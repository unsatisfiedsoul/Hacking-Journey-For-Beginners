# Three way handshake

### **Three-Way Handshake (ржерзНрж░рж┐-ржУржпрж╝рзЗ рж╣рзНржпрж╛ржирзНржбрж╢рзЗржХ)**

![1000047983.jpg](Three%20way%20handshake%2019edf40dd4ca8014bd25eeaef2cd7d6f/1000047983.jpg)

ржерзНрж░рж┐-ржУржпрж╝рзЗ рж╣рзНржпрж╛ржирзНржбрж╢рзЗржХ рж╣рж▓рзЛ **TCP (Transmission Control Protocol)**-ржПрж░ ржорж╛ржзрзНржпржорзЗ ржжрзБржЗ ржбрж┐ржнрж╛ржЗрж╕рзЗрж░ ржоржзрзНржпрзЗ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп рж╕ржВржпрзЛржЧ рж╕рзНржерж╛ржкржирзЗрж░ ржПржХржЯрж┐ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ред ржПржЯрж┐ ржорзВрж▓ржд рждрж┐ржиржЯрж┐ ржзрж╛ржкрзЗ рж╕ржорзНржкржирзНржи рж╣ржпрж╝:

### **Step 1: SYN (рж╕рж┐ржЩрзНржХ) ржкрж╛ржарж╛ржирзЛ**

ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ (Client) ржпржЦржи рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ (Server) рж╕рж╛ржерзЗ рж╕ржВржпрзЛржЧ рж╕рзНржерж╛ржкржи ржХрж░рждрзЗ ржЪрж╛ржпрж╝, рждржЦржи ржПржЯрж┐ ржкрзНрж░ржержорзЗ ржПржХржЯрж┐ **SYN (synchronize)** ржкрзНржпрж╛ржХрзЗржЯ ржкрж╛ржарж╛ржпрж╝ред ржПржЗ ржкрзНржпрж╛ржХрзЗржЯрзЗрж░ ржорж╛ржзрзНржпржорзЗ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ ржЬрж╛ржирж╛ржпрж╝ ржпрзЗ ржПржЯрж┐ ржПржХржЯрж┐ рж╕ржВржпрзЛржЧ рж╕рзНржерж╛ржкржи ржХрж░рждрзЗ ржЪрж╛ржпрж╝ ржПржмржВ рждрж╛рж░ **Sequence Number** (рж╕рж┐ржХрзЛржпрж╝рзЗржирзНрж╕ ржиржорзНржмрж░) ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рзЗред

### **Step 2: SYN-ACK (рж╕рж┐ржЩрзНржХ-ржЕрзНржпрж╛ржХржирж▓рзЗржЬржорзЗржирзНржЯ) ржкрж╛ржарж╛ржирзЛ**

рж╕рж╛рж░рзНржнрж╛рж░ ржпржЦржи ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯрзЗрж░ SYN ржкрзНржпрж╛ржХрзЗржЯ ржЧрзНрж░рж╣ржг ржХрж░рзЗ, рждржЦржи ржПржЯрж┐ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯрзЗрж░ ржЕржирзБрж░рзЛржз ржЧрзНрж░рж╣ржгрзЗрж░ рж╕ржВржХрзЗржд ржжрж┐рждрзЗ **SYN-ACK (synchronize-acknowledge)** ржкрзНржпрж╛ржХрзЗржЯ ржкрж╛ржарж╛ржпрж╝ред ржПржЗ ржкрзНржпрж╛ржХрзЗржЯрзЗ рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ ржирж┐ржЬрж╕рзНржм **Sequence Number** ржПржмржВ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯрзЗрж░ SYN ржПрж░ **Acknowledgment Number** ржерж╛ржХрзЗред

### **Step 3: ACK (ржЕрзНржпрж╛ржХржирж▓рзЗржЬржорзЗржирзНржЯ) ржкрж╛ржарж╛ржирзЛ**

ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ ржпржЦржи рж╕рж╛рж░рзНржнрж╛рж░рзЗрж░ SYN-ACK ржкрзНржпрж╛ржХрзЗржЯ ржЧрзНрж░рж╣ржг ржХрж░рзЗ, рждржЦржи ржПржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рждрзЗ ржПржХржЯрж┐ **ACK (acknowledgment)** ржкрзНржпрж╛ржХрзЗржЯ ржкрж╛ржарж╛ржпрж╝ред ржПрж░ ржорж╛ржзрзНржпржорзЗ рж╕ржВржпрзЛржЧ рж╕рзНржерж╛ржкржи ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛ рж╕ржорзНржкржирзНржи рж╣ржпрж╝, ржПржмржВ ржЙржнржпрж╝ ржбрж┐ржнрж╛ржЗрж╕ ржПржЦржи рждржерзНржп ржЖржжрж╛ржи-ржкрзНрж░ржжрж╛ржи ржХрж░рждрзЗ ржкрзНрж░рж╕рзНрждрзБрждред

### **рж╕ржВржХрзНрж╖рзЗржкрзЗ ржерзНрж░рж┐-ржУржпрж╝рзЗ рж╣рзНржпрж╛ржирзНржбрж╢рзЗржХ ржкрзНрж░ржХрзНрж░рж┐ржпрж╝рж╛:**

1. **Client тЖТ Server:** **SYN** (рж╕ржВржпрзЛржЧрзЗрж░ ржЕржирзБрж░рзЛржз)
2. **Server тЖТ Client:** **SYN-ACK** (рж╕ржВржпрзЛржЧ ржЧрзНрж░рж╣ржгрзЗрж░ рж╕ржВржХрзЗржд)
3. **Client тЖТ Server:** **ACK** (рж╕ржВржпрзЛржЧ ржирж┐рж╢рзНржЪрж┐рждржХрж░ржг)

ржПрж░ржкрж░ ржХрзНрж▓рж╛ржпрж╝рзЗржирзНржЯ ржПржмржВ рж╕рж╛рж░рзНржнрж╛рж░ ржбрж╛ржЯрж╛ ржЯрзНрж░рж╛ржирзНрж╕ржлрж╛рж░ рж╢рзБрж░рзБ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

**ЁЯФ╣ ржерзНрж░рж┐-ржУржпрж╝рзЗ рж╣рзНржпрж╛ржирзНржбрж╢рзЗржХ ржХрзЗржи ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржг?**

тЬЕ ржирж┐рж░рзНржнрж░ржпрзЛржЧрзНржп рж╕ржВржпрзЛржЧ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред

тЬЕ ржбрж╛ржЯрж╛ ржЯрзНрж░рж╛ржирзНрж╕ржорж┐рж╢ржирзЗрж░ рж╕ржарж┐ржХ рж╕рж┐ржХрзЛржпрж╝рзЗржирзНрж╕ ржарж┐ржХ рж░рж╛ржЦрзЗред

тЬЕ MITM (Man-in-the-Middle) ржмрж╛ рж╕ржВржпрзЛржЧ рж╣рж╛ржЗржЬрзНржпрж╛ржХрж┐ржВ ржкрзНрж░рждрж┐рж░рзЛржзрзЗ рж╕рж╣рж╛ржпрж╝рждрж╛ ржХрж░рзЗред